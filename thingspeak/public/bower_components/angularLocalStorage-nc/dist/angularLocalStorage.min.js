/*! angularLocalStorage-nc 0.2.1 */
angular.module("angularLocalStorage",[]).factory("storage",["$parse","$window","$log",function a(b,c,d){var a="undefined"==typeof c.localStorage?void 0:c.localStorage,e=!("undefined"==typeof a||"undefined"==typeof c.JSON);if(!e)return d.error("Local Storage not supported, this application needs localStorage in order to run"),void 0;var f={parseValue:function(a){var b;try{b=c.JSON.parse(a),"undefined"==typeof b&&(b=a),"true"===b&&(b=!0),"false"===b&&(b=!1),c.parseFloat(b)!==b||angular.isObject(b)||(b=c.parseFloat(b))}catch(d){b=a}return b}},g={dateStamps:!0,stampKeyBuilder:function(a){return a+g.dateStampsSuffix},dateStampsSuffix:"_dateStamp",set:function(b,d){var e=c.JSON.stringify,h=e(d);try{a.setItem(b,h),g.dateStamps===!0&&a.setItem(g.stampKeyBuilder(b),e(new Date))}catch(i){throw console.error("localStorage LIMIT REACHED: ("+i+")"),i}return f.parseValue(h)},get:function(b){var c=a.getItem(b);return f.parseValue(c)},getDateStamp:function(a){return g.get(g.stampKeyBuilder(a))},remove:function(b){return a.removeItem(b),!0},bind:function(a,c,d){var e={defaultValue:"",storeName:""};d=angular.isString(d)?angular.extend({},e,{defaultValue:d}):angular.isUndefined(d)?e:angular.extend(e,d);var f=d.storeName||c;return g.get(f)||g.set(f,d.defaultValue),b(c).assign(a,g.get(f)),a.$watch(c,function(a){angular.isDefined(a)&&g.set(f,a)},!0),g.get(f)},unbind:function(a,c,d){d=d||c,b(c).assign(a,null),a.$watch(c,function(){}),g.remove(d)},clearAll:function(){a.clear()}};return g}]);